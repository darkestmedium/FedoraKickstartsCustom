{
	"version": "2.0.0",
	"tasks": 
	[
		// Build ISO
		{
			"label": "Build ISO",
			"type": "shell",
			"command": "sudo",
			"args": 
			[	"livecd-creator",
				"--config=./fedora-live-custom.ks",
				"--releasever=${input:releaseServer}",
				"--fslabel=Fedora-${input:isoLabel}-${input:releaseServer}",
				"--tmpdir=./Temp",
				"--cache=./Cache/Live",
				"--verbose",
			],
			"group": {"kind": "build"},
			"detail": "Builds the iso file.",
		},
		// Burn to USB Drive
		{
			"label": "Burn to USD Drive",
			"type": "shell",
			"command": "sudo",
			"args": 
			[	"dd",
				"if=${input:inputFile}",
				"of=${input:outputFile}",
				"bs=4M",
				"status=progress"
			],
			"group": {"kind": "build"},
			"detail": "Creates a bootable usb drive.",
		},
		// Build and Burn!
		{
			"label": "Build and Burn",
			"dependsOrder": "sequence",
			"dependsOn": ["Build ISO", "Burn to USD Drive"],
			"group": {"kind": "build"},
			"detail": "Builds and burns the iso to a USB drive. ('Build ISO', 'Burn to USD Drive')",
		},
		// Clean Workspace
		{
			"label": "Clean Workspace",
			"type": "shell",
			"command": "sudo",
			"options": {"cwd": "${workspaceFolder}"},
			"args":	["rm", "-rf", "./Cache", "./Temp", "*.iso", "*.kstmp.*"],
			"group": {"kind": "build"},
			"detail": "Cleans the workspace.",
		},
	],

	// Inputs
	"inputs": 
	[
		{
			"id": "releaseServer",
			"description": "Value to substitute for $releasever in kickstart repo urls.",
			"default": "40",
			"type": "promptString"
		},
		{
			"id": "isoLabel",
			"description": "The name will be prefixed with 'Fedora-' and suffixed with releaseServer. ('Fedora-isoLabel-releaseServer')",
			"default": "Custom",
			"type": "promptString"
		},
		{
			"id": "inputFile",
			"description": "Input path for the iso file.",
			"default": "./Fedora-Custom-40.iso",
			"type": "promptString"
		},
		{
			"id": "outputFile",
			"description": "Output path for the device.",
			"default": "/dev/sda",
			"type": "promptString"
		},
	]
}